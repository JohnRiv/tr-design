<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Versioning Proposal (level 1)</title>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-WD">
    <meta name="description" content="This specification defines an API that provides the time origin, and current time in sub-millisecond resolution, such that it is not subject to system clock skew or adjustments.">
</head>
<body class="h-entry" id="respecDocument" aria-busy="false">
    <div class="head" role="contentinfo" id="respecHeader">
        <p>
            <a class="logo" href="https://www.w3.org/"><img src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" alt="W3C" width="72" height="48"></a>
        </p>
        <h1 class="title p-name" id="title">Versioning Proposal (level 1)</h1>
        <h2 id="w3c-working-draft-04-october-2017"><abbr title="World Wide Web Consortium">W3C</abbr> Working Draft <time class="dt-published" datetime="2017-10-04">04 October 2017</time></h2>
        <details>
        <summary>Specification Metadata</summary>
        <div>
            <dl>
            <dt title='The preferred URL for this specification'>Canonical version:</dt>
            <dd><a href="https://www.w3.org/TR/hr-time/">https://www.w3.org/TR/hr-time/</a></dd>
<!--
            <dt data-ref='latest'>Latest version:</dt>
            <dd><a href="https://www.w3.org/TR/hr-time/latest">https://www.w3.org/TR/hr-time/latest</a></dd>
            <dt data-ref='upcoming'>Upcoming version:</dt>
            <dd><a href="https://www.w3.org/TR/hr-time/upcoming">https://www.w3.org/TR/hr-time/upcoming</a></dd>
            <dt data-ref='all'>List of the different versions:</dt>
            <dd><a href="https://www.w3.org/TR/hr-time/all">https://www.w3.org/TR/hr-time/all</a></dd>
            <dt data-ref='level'>Latest published Level 2 version:</dt>
            <dd><a href="https://www.w3.org/TR/hr-time-2/">https://www.w3.org/TR/hr-time-2/</a></dd>
-->
            <dt title='The dated snapshot URL for this specification'>This version:</dt>
            <dd><a class="u-url" href="https://www.w3.org/TR/2017/WD-hr-time-2-20171004/">https://www.w3.org/TR/2017/WD-hr-time-2-20171004/</a></dd>
            <dt title='The list of all snapshots for this specification'>History:</dt>
            <dd><a class="u-url" href="https://www.w3.org/standards/history/hr-time">https://www.w3.org/standards/history/hr-time</a></dd>
            <dt title='The nightly draft build of this specification'>Latest editor's draft:</dt>
            <dd><a href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a></dd>
            <dt>Editors:</dt>
            <dd class="p-author h-card vcard" data-editor-id="56102"><span class="p-name fn">Ilya Grigorik</span>, Google Inc., <span class="ed_mailto"><a class="u-email email" href="mailto:igrigorik@gmail.com">igrigorik@gmail.com</a></span></dd>
            <dd class="p-author h-card vcard" data-editor-id="45726"><span class="p-name fn">James Simonsen</span>, Google Inc., <span class="ed_mailto"><a class="u-email email" href="mailto:simonjam@google.com">simonjam@google.com</a></span> (Until January 2015)</dd>
            <dd class="p-author h-card vcard" data-editor-id="44357"><span class="p-name fn">Jatinder Mann</span>, Microsoft Corp., <span class="ed_mailto"><a class="u-email email" href="mailto:jmann@microsoft.com">jmann@microsoft.com</a></span> (Until February 2014)</dd>

            <dt>Repository:</dt>
            <dd>
                <a href="https://github.com/w3c/hr-time/">
                      We are on Github.
                    </a>
            </dd>
            <dd>
                <a href="https://github.com/w3c/hr-time/issues?q=milestone:%22Level%202%22">
                      File a bug.
                    </a>
            </dd>
            <dd>
                <a href="https://github.com/w3c/hr-time/commits/gh-pages/index.html">
                      Commit history.
                    </a>
            </dd>
            <dt>Implementation:</dt>
            <dd>
                <a href="http://caniuse.com/#feat=high-resolution-time">
                      Can I use Versioning Proposal?
                    </a>
            </dd>
            <dd>
                <a href="http://w3c-test.org/hr-time/">
                      Test Suite
                    </a>
            </dd>
            <dd>
                <a href="https://github.com/w3c/web-platform-tests/tree/master/hr-time">
                      Test Suite repository
                    </a>
            </dd>
        </dl>
        <p class="note">See below for various explanations related to the specification metadata. "canonical version", "This version", and "History" are the only
            required specification metadata.
        </p>
        </div>
        </details>
        <p class="copyright">
            <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2017

            <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
            <a href="https://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
            <a href="https://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>).
            <abbr title="World Wide Web Consortium">W3C</abbr> <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
            <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">permissive document license</a> rules apply.
        </p>
        <hr title="Separator for header">
    </div>

<script>
    (function () {
        try {
            var shouldOpen = (window.localStorage.getItem("tr-spec-information") === "open");
            var details = document.querySelector("div.head details");
            details.querySelector("summary").style.cursor = "pointer";// not the default behavior in user agents?
            if (shouldOpen && details.open === false) details.open = true;
        } catch (e) { }
    })();

    var w3cnotice = (function () {
        // THIS FUNCTION WILL NEED SOME REWRITING LATER
        function _notice(shortname, branch) {
        console.log("Creating a notice for " + shortname);
        var notice = document.createElement("dialog");
        if (notice.show === undefined) {
            notice.style.display = "none";
            notice.open = false;
            notice.show = function () {
                notice.style.display = "block";
                notice.open = true;
                notice.focus();
            }
            notice.close = function () {
                notice.style.display = "none";
                notice.open = false;
            }
        }
        // populate the dialog
        var p = document.createElement("p");
        var strong = document.createElement("strong");
        var span = document.createElement("span");
        var a = document.createElement("a");
        var b = document.createElement("button");
        var link = "https//www.w3.org/TR/" + shortname + "/" + branch + "/";
        a.href = link;
        a.appendChild(document.createTextNode(link));
        strong.appendChild(document.createTextNode("You're not on the " + branch + "!"));
        strong.style.display = "block";strong.style.textAlign = "center";
        span.appendChild(document.createTextNode("For the " + branch + " version, please look at "));
        span.appendChild(a);
        span.appendChild(document.createTextNode("."));
        span.style.display = "block";
        b.appendChild(document.createTextNode("× close"));
        b.addEventListener("click", function () { notice.close() });
        // b.style.position = "relative";b.style.top = "-2.5em";
        b.style.display = "block"; b.style.float = "right"; b.style.marginTop="1em";
        p.appendChild(strong);
        p.appendChild(span);
        p.appendChild(b);
        notice.style.position = "fixed";notice.style.bottom = "1em";notice.style.right="1em";
        notice.appendChild(p);
        return notice;
       }
       return _notice;
    })();

    (function () {
        var loc = window.location.href;
        if (false) {// @@REMOVE ME
        if (!loc.match(/^https?:\/\/www.w3.org\/TR\/\D+/)) {
            // abort
            console.log("DEBUG: aborted due to window.location.href");
            return null;
        }
        }
        try {
            // one of null, "latest", "upcoming", "ed"
            var v = window.localStorage.getItem("tr-spec-version");
            if (false && v !== null && (v === "upcoming" || v === "ed")) { //deactivated for now since I can't understand :-]
                var note = w3cnotice("hr-time", v);
                var h2 = document.querySelector("h2");
                h2.parentNode.insertBefore(note, h2);
                note.show();
            }
        } catch (e) { console.log(e); }
    })();
</script>

<section id="abstract" class="introductory">
        <h2 id="abstract-0">Abstract</h2>
        <p>This document is a sample of what a real specification would like in the future. It has nothing to do with High Resolution Time except for the fact that HRT is used as a sample for the links. It contains various definitions and concepts used by W3C /TR cooks.</p>
    </section>
    <section id="sotd" class="introductory">
        <h2 id="status-of-this-document">Status of This Document</h2>
        <p>This document isn't meant to change drastically how specifications will look like after the 2018 GRS (great redesign of specifications scheduled for 2018). For that,
            you can look at ideas such as the <a href="http://fantasai.inkedblade.net/style/design/w3c-restyle/">2012 one</a>.
        </p>


    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents">Table of Contents</h2>
        <ol class="toc" role="directory">
                <li class="tocline"><a href="#considerations" class="tocxref"><span class="secno">1. </span>Considerations</a></li>
                <li class="tocline"><a href="#origin" class="tocxref"><span class="secno">2. </span>The Origin of the Proposal</a></li>
            <li class="tocline"><a href="#shortnames" class="tocxref"><span class="secno">3. </span> Shortnames and leveled shortnames</a></li>
            <li class="tocline"><a href="#levels" class="tocxref"><span class="secno">4. </span> About using level numbers in specification</a></li>
            <li class="tocline"><a href="#keepingup" class="tocxref"><span class="secno">5. </span> On obsolete/superceded/rescinded/retired/outdated</a></li>
            <li class="tocline"><a href="#latest" class="tocxref"><span class="secno">6. </span> /latest/</a></li>
            <li class="tocline"><a href="#upcoming" class="tocxref"><span class="secno">7. </span> /upcoming/</a></li>
            <li class="tocline"><a href="#ed" class="tocxref"><span class="secno">8. </span> /ed/</a></li>
            <li class="tocline"><a href="#canonical" class="tocxref"><span class="secno">9. </span> Canonical version</a></li>
            <li class="tocline"><a href="#history" class="tocxref"><span class="secno">10. </span> History</a></li>
            <li class="tocline"><a href="#history" class="tocxref"><span class="secno">11. </span> /all/</a></li>
            <li class="tocline"><a href="#all" class="tocxref"><span class="secno">12. </span> Normative references</a></li>
            <li class="tocline"><a href="#acknowledgments" class="tocxref"><span class="secno">A. </span>Acknowledgments</a></li>
        </ol>
    </nav>
    <section id="considerations">
        <h2>1. Considerations</h2>

        <p>This document is a reflection on how to change our header links in the beginning of December 2017.</p>

        <p>Not all headers included in this document need to be used. The important part is for the tooling to find its stuff and for the users
            not to be confused too much.
        </p>

        <p>This document contains the advanced ability of selecting which spec you would like to see. Your current specification
            preference is [<span id='spec-status-internal'></span>]. You may change this by using
            <a style='border: none' href="spec-preferences.html">specification preferences</a>. (hint: change your preference to "upcoming" or "ed"
        and reload this document to see the effect).</p>

    </section>

    <section id="origin">
        <h2>2. The Origin of the Proposal</h2>

        <p>See the notes from the <a href="https://www.w3.org/2017/11/08-tr-minutes.html">TPAC 2017 session</a>.</p>

        <p>The original meaning of latest, upcoming, all can also be found in the <a href="https://github.com/w3c/tr-pages/wiki/Latest-versions-proposal-for-leveled-specifications">Latest versions proposal for leveled specifications</a>.</p>

        <section id='usecases'>
            <h3>2.1 Use Cases</h3>
            <ul>
                <li>Allow more predictability in the system for shortnames</li>
                <li>Allow reference tools, such as specref, to better navigate through the W3C references (and consequently, the editing tools like specref can use that)</li>
                <li>Reduce confusion around versioning by harmonizing its handling while giving the possibility to Groups to stop displaying it</li>
                <li>Clean-up the main <a href="https://www.w3.org/TR">/TR</a> page by "downgrading" old level versions that aren't yet obsolete/superceded/rescinded</li>
            </ul>
        </section>

    </section>

    <section id="shrortnames">
            <h2>3. Shortnames and leveled shortnames</h2>

            <p>We distinguish between:</p>

            <ul>
                <li><code>https://www.w3.org/TR/&lt;shortname>/</code>, the <strong>shortname URL</strong> of a specification. This returns the document returned by <a href='#latest'>/latest</a> or
                    <a href="#upcoming">/upcoming</a> (depending on the Group choice).</li>
                <li><code>https://www.w3.org/TR/&lt;shortname>-&lt;level>/</code>, the <strong>leveled shortname URL</strong> of a specification. This returns the <a href="#keepingup">non-outdated document</a> for
                    a specific <code>&lt;level></code>.</li>
            </ul>
            <p>with:</p>
            <ul>
                <li id='shortname-rule'><code>&lt;shortname> ::= [-a-zA-Z]+</code></li>
                <li id='level-rule'><code>&lt;level> ::= [.0-9]+</code></li>
            </ul>

            <p class='note'>When looking at a specification use the <strong>shortname URL</strong> of a specification, it is not possible to know if you're looking at <a href='#latest'>/latest</a> or
                <a href="#upcoming">/upcoming</a>. One may use <a style='border: none' href="spec-preferences.html">specification preferences</a> to set proper expectations.</p>
    </section>

    <section id="levels">
            <h2>4. About using level numbers in specification</h2>

            <p><strong>The title of a specification MAY reflect the <code>&lt;level></code> of a specification.
                The dated URL of the specification (aka This Version) and the leveled shortname URL of the specification MUST contain the <code>&lt;level></code>.</strong></p>

            <p>
                Some Groups feel strongly about the levels of their specification, others prefer not to deal with them. We give the choice.
            </p>

            <p><a href='#level-rule'>&lt;Level></a> is a number, not interpreted by the underlying system except for its sequence order. You may use for example <code>2</code>, <code>2.0</code>, <code>2018</code>.</p>

            <p>You may add additional specification metadata headers  in your document, such as a "Latest published Level 2 version" for the leveled shortname URL.</p>

    </section>
    <section id="keepingup">
            <h2>5. On obsolete/superceded/rescinded/retired/outdated</h2>


            <ul>
                <li id='obsolete'><em>obsolete</em>, <em id='superceded'>superceded</em>, and <em id='rescinded'>rescinded</em> are <a href="https://w3c.github.io/w3process/#maturity-levels">maturity levels</a> defined by
                    the <a href="https://www.w3.org/Consortium/Process/">W3C Process</a>. (<code>superceded</code> is actually proposed in <a href='https://w3c.github.io/w3process/#rec-rescind'>Process 2018</a>)</li>
                <li id='retired'><em>retired</em> is an indication for Group notes when work on a specification ceased (see <a href="https://www.w3.org/Consortium/Process/#tr-end">Stopping Work on a specification</a>)</li>
                <li id='outdated'><em>outdated</em> is applied automatically by the W3C server when a dated document has been outdated by a new dated publication, when the <a href='level-rule'>level</a> matches.</li>
            </ul>

            <section id="outdated-text">
                    <h3>5.1 Outdated warning</h3>
                    <p>Currently, we are displaying 2 types of outdated warnings:</p>

                    <ol>
                        <li>For Recommendations that aren't obsolete/superceded/rescinded and don't have a more recent edited recommendation, we indicate that a more recent document with incorporated errata (an Edited CR or an Edited PR) is available.</li>
                        <li>or we display a note indicated "This version is outdated!".</li>
                    </ol>
                    <p>In all cases, we direct the reader to the leveled shortname URL instead.</p>
        </section>

</section>
        <section id="latest">
        <h2>6. /latest/</h2>

        <p>"Latest" will return the most "stabilized" document available. Those links are created automatically for all <code>https://www.w3.org/TR/&lt;shortname>/</code>. For example,
            <a href='https://www.w3.org/TR/hr-time/latest/'>https://www.w3.org/TR/hr-time/latest/</a></p>

        <p>As such, it points to the <strong>first document</strong> found in the following ordered list:</p>
        <ol>
        <li>
        the <strong>highest</strong> level being a CR, an Edited CR, a PR, an Edited PR
        </li><li>
        a <strong>REC</strong> that is not obsolete/superceded/rescinded/retired/outdated
        </li><li>
        the <strong>highest</strong> level being a Note if not retired
        </li><li>
        the <strong>lowest</strong> level being a WD
        </li><li>
        the obsolete/superceded/rescinded REC
        </li><li>
        the retired Note
        </li></ol>
    </section>

    <section id="upcoming">
            <h2>7. /upcoming/</h2>

            <p>"upcoming" will return the "tip" document available. Those links are created automatically for all <code>https://www.w3.org/TR/&lt;shortname>/</code>. For example,
                <a href='https://www.w3.org/TR/hr-time/upcoming/'>https://www.w3.org/TR/hr-time/upcoming/</a></p>

            <p>As such, it points to the <strong>first document</strong> found in the following ordered list:</p>
            <ol>
            <li>
                    the <strong>highest</strong> level that is not obsolete/superceded/rescinded/retired/outdated
            </li><li>
                    the obsolete/superceded/rescinded/retired document
            </li></ol>
        </section>

        <section id="ed">
                <h2>8. /ed/</h2>

                <p><strong>If available</strong>, "ed" will redirect to the "nightly build" of the upcoming document.</p>
                <p>As such, it redirects to the document known as "editor's draft" that is associated with the <em><a href='#upcoming'>upcoming</a></em> document, if known.</p>
                <p class='issue'>should we just use "Nighlty build" instead of Editor's draft?</p>

        </section>

        <section id="canonical">
        <h2>9. Canonical version</h2>

        <p>
            This represents the preferred URL you want people to use to access the specification. It helps search engines to be able to consolidate the information they have for the individual URLs
            (such as links to them) on a single, preferred URL. It is either the <em>shortname URL</em> or the <em>leveled shortname URL</em>.
        </p>

        <p class="note">Canonical version header shouldn't differ from rel=canonical.</p>

        <p class="issue"><a href="https://tools.ietf.org/html/rfc6596">RFC6596</a> indicates that the canonical link relation specifies the preferred URL from
            resources with duplicative or superset content. Sometimes, we do remove content from one published dated version to another, so we're not following RFC6595 strictly.
            However, we consider the consolidation of search results to take priority here given that one can always access the history of the specification.
        </p>
    </section>

    <section id="history">
            <h2>10. History</h2>

            <p>This is intended to replace what used to be "Previous version" and represents the history for all snapshot for a given shortname URL. For example,
                    <a href='https://www.w3.org/standards/history/hr-time'>https://www.w3.org/standards/history/hr-time</a></p>

            <p class="note">History pages aren't handling all snapshots currently. We're looking at changing that.</p>
        </section>

        <section id="all">
                <h2>11. /all/</h2>

                <p>This represents the list of all non-outdated specifications for all level versions for a given shortname. For example,
                        <a href='https://www.w3.org/TR/hr-time/all/'>https://www.w3.org/TR/hr-time/all/</a></p>

            </section>

            <section id="all">
                    <h2>12. This version</h2>

                    <p>This is the dated snapshot of the document:</p>
                    <p>
                            <code>https://www.w3.org/TR/&lt;YYYY>/&lt;status>-&lt;shortname>-&lt;level>-&lt;YYYY>&lt;MM>&lt;DD>/</code>, the <strong>dated snapshot</strong> of a specification.
                            This returns the document for
                            a specific <code>&lt;level></code> published on a specific date, even if it has been <a href="#keepingup">outdated</a>.
                    </p>
                    <p>with:</p>
                    <ul>
                        <li id='status-rule'><code>&lt;status> ::= [A-Z][-A-Z]+</code> (see <a href="https://www.w3.org/pubrules/doc">pubrules documentation</a>)</li>
                        <li id='yyyy-rule'><code>&lt;YYYY> ::= [2-9][0-9][0-9][0-9]</code></li>
                        <li id='mm-rule'><code>&lt;MM> ::= 0[1-9] | 1[0-2]</code></li>
                        <li id='dd-rule'><code>&lt;DD> ::= [0-2][0-9] | 3[0-1]</code></li>
                    </ul>

                    <p class="issue">Should we stop using "This version" and use "This snapshot" instead? This would avoid confusion with levels, etc.</p>
                </section>


        <section id="normativerefs">
                <h2>12. Normative references</h2>

                <p>For the purpose of normative references, you may use the <em>shortname URL</em>, the <em>leveled shortname URL</em>, or a <em>dated URL</em> depending on the
                nature of the dependency.</p>

                <p class="issue">Not using the <em>dated URL</em> will increase the likelyhood of getting borken fragments over the years. We should encourage editing tools and editors to maintain an history of
                fragments to avoid <a href='https://twitter.com/i/web/status/940561542080356353'>disappointing the readers</a>.</p>

            </section>


    <p role="navigation" id="back-to-top"><a href="#toc"><abbr title="Back to Top">↑</abbr></a></p>
    <script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
</body>

</html>
